import{a as p}from"./chunk.GRSYCZWO.js";import{a as n}from"./chunk.MWDEA25W.js";import{a as m}from"./chunk.DBCWAMJH.js";import{a as l,b as i,f as c}from"./chunk.N2CXUFX7.js";import{c as a}from"./chunk.I36YJ673.js";import{g as s}from"./chunk.OAQCUA7X.js";var t=class extends c{constructor(){super(...arguments);this.mode="cors";this.allowScripts=!1}executeScript(e){let r=document.createElement("script");[...e.attributes].forEach(o=>r.setAttribute(o.name,o.value)),r.textContent=e.textContent,e.parentNode.replaceChild(r,e)}async handleSrcChange(){try{let e=this.src,r=await n(e,this.mode);if(e!==this.src)return;if(!r.ok){this.emit("sl-error",{detail:{status:r.status}});return}this.innerHTML=r.html,this.allowScripts&&[...this.querySelectorAll("script")].forEach(o=>this.executeScript(o)),this.emit("sl-load")}catch(e){this.emit("sl-error",{detail:{status:-1}})}}render(){return a`<slot></slot>`}};t.styles=p,s([i()],t.prototype,"src",2),s([i()],t.prototype,"mode",2),s([i({attribute:"allow-scripts",type:Boolean})],t.prototype,"allowScripts",2),s([m("src")],t.prototype,"handleSrcChange",1),t=s([l("sl-include")],t);export{t as a};
