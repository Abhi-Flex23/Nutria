import{h as f}from"./chunk.RLLTRZYL.js";import{a as d,b as n,c as s}from"./chunk.GVR6SJVE.js";import{c,h}from"./chunk.7EIHAL55.js";import{g as e}from"./chunk.OAQCUA7X.js";var g=[{max:276e4,value:6e4,unit:"minute"},{max:72e6,value:36e5,unit:"hour"},{max:5184e5,value:864e5,unit:"day"},{max:24192e5,value:6048e5,unit:"week"},{max:28512e6,value:2592e6,unit:"month"},{max:1/0,value:31536e6,unit:"year"}],t=class extends h{constructor(){super(...arguments);this.localize=new f(this);this.isoTime="";this.relativeTime="";this.titleTime="";this.format="long";this.numeric="auto";this.sync=!1}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.updateTimeout)}render(){let a=new Date,o=new Date(this.date);if(isNaN(o.getMilliseconds()))return this.relativeTime="",this.isoTime="","";let l=o.getTime()-a.getTime(),{unit:r,value:y}=g.find(i=>Math.abs(l)<i.max);if(this.isoTime=o.toISOString(),this.titleTime=this.localize.date(o,{month:"long",year:"numeric",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"}),this.relativeTime=this.localize.relativeTime(Math.round(l/y),r,{numeric:this.numeric,style:this.format}),clearTimeout(this.updateTimeout),this.sync){let i;r==="minute"?i=u("second"):r==="hour"?i=u("minute"):r==="day"?i=u("hour"):i=u("day"),this.updateTimeout=window.setTimeout(()=>this.requestUpdate(),i)}return c` <time datetime=${this.isoTime} title=${this.titleTime}>${this.relativeTime}</time> `}};e([s()],t.prototype,"isoTime",2),e([s()],t.prototype,"relativeTime",2),e([s()],t.prototype,"titleTime",2),e([n()],t.prototype,"date",2),e([n()],t.prototype,"lang",2),e([n()],t.prototype,"format",2),e([n()],t.prototype,"numeric",2),e([n({type:Boolean})],t.prototype,"sync",2),t=e([d("sl-relative-time")],t);function u(m){let a={second:1e3,minute:6e4,hour:36e5,day:864e5}[m];return a-Date.now()%a}export{t as a};
