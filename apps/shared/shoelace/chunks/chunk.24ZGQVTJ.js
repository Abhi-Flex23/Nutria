import{a as i}from"./chunk.DBCWAMJH.js";import{a as d,b as a,e as c,f as y}from"./chunk.N2CXUFX7.js";import{a as f}from"./chunk.JW65HGF2.js";import{c as m}from"./chunk.I36YJ673.js";import{a as r}from"./chunk.HDSSVW7K.js";import{g as e}from"./chunk.OAQCUA7X.js";var t=class extends y{constructor(){super(...arguments);this.hasStarted=!1;this.name="none";this.play=!1;this.delay=0;this.direction="normal";this.duration=1e3;this.easing="linear";this.endDelay=0;this.fill="auto";this.iterations=1/0;this.iterationStart=0;this.playbackRate=1}get currentTime(){var n,s;return(s=(n=this.animation)==null?void 0:n.currentTime)!=null?s:0}set currentTime(n){this.animation&&(this.animation.currentTime=n)}connectedCallback(){super.connectedCallback(),this.createAnimation(),this.handleAnimationCancel=this.handleAnimationCancel.bind(this),this.handleAnimationFinish=this.handleAnimationFinish.bind(this)}disconnectedCallback(){super.disconnectedCallback(),this.destroyAnimation()}handleAnimationChange(){!this.hasUpdated||this.createAnimation()}handleAnimationFinish(){this.play=!1,this.hasStarted=!1,this.emit("sl-finish")}handleAnimationCancel(){this.play=!1,this.hasStarted=!1,this.emit("sl-cancel")}handlePlayChange(){return this.animation?(this.play&&!this.hasStarted&&(this.hasStarted=!0,this.emit("sl-start")),this.play?this.animation.play():this.animation.pause(),!0):!1}handlePlaybackRateChange(){this.animation&&(this.animation.playbackRate=this.playbackRate)}handleSlotChange(){this.destroyAnimation(),this.createAnimation()}async createAnimation(){var l,o;let n=(l=r.easings[this.easing])!=null?l:this.easing,s=(o=this.keyframes)!=null?o:r[this.name],h=(await this.defaultSlot).assignedElements()[0];return!h||!s?!1:(this.destroyAnimation(),this.animation=h.animate(s,{delay:this.delay,direction:this.direction,duration:this.duration,easing:n,endDelay:this.endDelay,fill:this.fill,iterationStart:this.iterationStart,iterations:this.iterations}),this.animation.playbackRate=this.playbackRate,this.animation.addEventListener("cancel",this.handleAnimationCancel),this.animation.addEventListener("finish",this.handleAnimationFinish),this.play?(this.hasStarted=!0,this.emit("sl-start")):this.animation.pause(),!0)}destroyAnimation(){this.animation&&(this.animation.cancel(),this.animation.removeEventListener("cancel",this.handleAnimationCancel),this.animation.removeEventListener("finish",this.handleAnimationFinish),this.hasStarted=!1)}cancel(){var n;(n=this.animation)==null||n.cancel()}finish(){var n;(n=this.animation)==null||n.finish()}render(){return m` <slot @slotchange=${this.handleSlotChange}></slot> `}};t.styles=f,e([c("slot")],t.prototype,"defaultSlot",2),e([a()],t.prototype,"name",2),e([a({type:Boolean,reflect:!0})],t.prototype,"play",2),e([a({type:Number})],t.prototype,"delay",2),e([a()],t.prototype,"direction",2),e([a({type:Number})],t.prototype,"duration",2),e([a()],t.prototype,"easing",2),e([a({attribute:"end-delay",type:Number})],t.prototype,"endDelay",2),e([a()],t.prototype,"fill",2),e([a({type:Number})],t.prototype,"iterations",2),e([a({attribute:"iteration-start",type:Number})],t.prototype,"iterationStart",2),e([a({attribute:!1})],t.prototype,"keyframes",2),e([a({attribute:"playback-rate",type:Number})],t.prototype,"playbackRate",2),e([i("name"),i("delay"),i("direction"),i("duration"),i("easing"),i("endDelay"),i("fill"),i("iterations"),i("iterationsStart"),i("keyframes")],t.prototype,"handleAnimationChange",1),e([i("play")],t.prototype,"handlePlayChange",1),e([i("playbackRate")],t.prototype,"handlePlaybackRateChange",1),t=e([d("sl-animation")],t);export{t as a};
