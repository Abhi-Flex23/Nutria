import{b as f}from"./chunk.6D3DWAMV.js";import{a as c,b as n,c as m,g as d}from"./chunk.IKUI3UUK.js";import{c as h}from"./chunk.SYBSOZNG.js";import{e as t}from"./chunk.I4CX4JT3.js";var T=[{max:276e4,value:6e4,unit:"minute"},{max:72e6,value:36e5,unit:"hour"},{max:5184e5,value:864e5,unit:"day"},{max:24192e5,value:6048e5,unit:"week"},{max:28512e6,value:2592e6,unit:"month"},{max:1/0,value:31536e6,unit:"year"}],e=class extends d{constructor(){super(...arguments);this.localize=new f(this);this.isoTime="";this.relativeTime="";this.titleTime="";this.date=new Date;this.format="long";this.numeric="auto";this.sync=!1}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.updateTimeout)}render(){let a=new Date,o=new Date(this.date);if(isNaN(o.getMilliseconds()))return this.relativeTime="",this.isoTime="","";let l=o.getTime()-a.getTime(),{unit:r,value:y}=T.find(i=>Math.abs(l)<i.max);if(this.isoTime=o.toISOString(),this.titleTime=this.localize.date(o,{month:"long",year:"numeric",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"}),this.relativeTime=this.localize.relativeTime(Math.round(l/y),r,{numeric:this.numeric,style:this.format}),clearTimeout(this.updateTimeout),this.sync){let i;r==="minute"?i=u("second"):r==="hour"?i=u("minute"):r==="day"?i=u("hour"):i=u("day"),this.updateTimeout=window.setTimeout(()=>this.requestUpdate(),i)}return h` <time datetime=${this.isoTime} title=${this.titleTime}>${this.relativeTime}</time> `}};t([m()],e.prototype,"isoTime",2),t([m()],e.prototype,"relativeTime",2),t([m()],e.prototype,"titleTime",2),t([n()],e.prototype,"date",2),t([n()],e.prototype,"format",2),t([n()],e.prototype,"numeric",2),t([n({type:Boolean})],e.prototype,"sync",2),e=t([c("sl-relative-time")],e);function u(s){let a={second:1e3,minute:6e4,hour:36e5,day:864e5}[s];return a-Date.now()%a}export{e as a};
