import{a as T}from"./chunk.BVWZEH7W.js";import{a as k,b as L,c as M,d as P,f as O,g as x}from"./chunk.SODMG5GV.js";import{a as d,b as l,c as p}from"./chunk.F64FS4SB.js";import{a as u,c}from"./chunk.O7L2VUC4.js";import{h as C}from"./chunk.RLLTRZYL.js";import{a as E}from"./chunk.PC5WGFOA.js";import{a as r}from"./chunk.OSEV3RCT.js";import{a as n,b as h}from"./chunk.V4OMSSO6.js";import{a as b,b as o,d as a}from"./chunk.GVR6SJVE.js";import{c as y,h as w}from"./chunk.7EIHAL55.js";import{g as i}from"./chunk.OAQCUA7X.js";var t=class extends w{constructor(){super(...arguments);this.localize=new C(this);this.content="";this.placement="top";this.disabled=!1;this.distance=10;this.open=!1;this.skidding=0;this.trigger="hover focus";this.hoist=!1}connectedCallback(){super.connectedCallback(),this.handleBlur=this.handleBlur.bind(this),this.handleClick=this.handleClick.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseOver=this.handleMouseOver.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.updateComplete.then(()=>{this.addEventListener("blur",this.handleBlur,!0),this.addEventListener("focus",this.handleFocus,!0),this.addEventListener("click",this.handleClick),this.addEventListener("keydown",this.handleKeyDown),this.addEventListener("mouseover",this.handleMouseOver),this.addEventListener("mouseout",this.handleMouseOut),this.target=this.getTarget()})}async firstUpdated(){this.tooltip.hidden=!this.open,this.open&&(await this.updateComplete,this.updatePositioner())}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("blur",this.handleBlur,!0),this.removeEventListener("focus",this.handleFocus,!0),this.removeEventListener("click",this.handleClick),this.removeEventListener("keydown",this.handleKeyDown),this.removeEventListener("mouseover",this.handleMouseOver),this.removeEventListener("mouseout",this.handleMouseOut),this.stopPositioner()}async show(){if(!this.open)return this.open=!0,h(this,"sl-after-show")}async hide(){if(!!this.open)return this.open=!1,h(this,"sl-after-hide")}getTarget(){let e=[...this.children].find(s=>s.tagName.toLowerCase()!=="style"&&s.getAttribute("slot")!=="content");if(!e)throw new Error("Invalid tooltip target: no child element was found.");return e}handleBlur(){this.hasTrigger("focus")&&this.hide()}handleClick(){this.hasTrigger("click")&&(this.open?this.hide():this.show())}handleFocus(){this.hasTrigger("focus")&&this.show()}handleKeyDown(e){this.open&&e.key==="Escape"&&(e.stopPropagation(),this.hide())}handleMouseOver(){if(this.hasTrigger("hover")){let e=l(getComputedStyle(this).getPropertyValue("--show-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>void this.show(),e)}}handleMouseOut(){if(this.hasTrigger("hover")){let e=l(getComputedStyle(this).getPropertyValue("--hide-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>void this.hide(),e)}}async handleOpenChange(){if(this.open){if(this.disabled)return;n(this,"sl-show"),await p(this.tooltip),this.startPositioner(),this.tooltip.hidden=!1;let{keyframes:e,options:s}=c(this,"tooltip.show",{dir:this.localize.dir()});await d(this.tooltip,e,s),n(this,"sl-after-show")}else{n(this,"sl-hide"),await p(this.tooltip);let{keyframes:e,options:s}=c(this,"tooltip.hide",{dir:this.localize.dir()});await d(this.tooltip,e,s),this.tooltip.hidden=!0,this.stopPositioner(),n(this,"sl-after-hide")}}handleOptionsChange(){this.updatePositioner()}handleDisabledChange(){this.disabled&&this.open&&this.hide()}hasTrigger(e){return this.trigger.split(" ").includes(e)}startPositioner(){this.stopPositioner(),this.updatePositioner(),this.positionerCleanup=O(this.target,this.positioner,this.updatePositioner.bind(this))}updatePositioner(){!this.open||!this.target||!this.positioner||x(this.target,this.positioner,{placement:this.placement,middleware:[M({mainAxis:this.distance,crossAxis:this.skidding}),L(),P(),k({element:this.arrow,padding:10})],strategy:this.hoist?"fixed":"absolute"}).then(({x:e,y:s,middlewareData:m,placement:f})=>{let g=m.arrow.x,v=m.arrow.y,A={top:"bottom",right:"left",bottom:"top",left:"right"}[f.split("-")[0]];this.positioner.setAttribute("data-placement",f),Object.assign(this.positioner.style,{position:this.hoist?"fixed":"absolute",left:`${e}px`,top:`${s}px`}),Object.assign(this.arrow.style,{left:typeof g=="number"?`${g}px`:"",top:typeof v=="number"?`${v}px`:"",right:"",bottom:"",[A]:"calc(var(--sl-tooltip-arrow-size) * -1)"})})}stopPositioner(){this.positionerCleanup&&(this.positionerCleanup(),this.positionerCleanup=void 0,this.positioner.removeAttribute("data-placement"))}render(){return y`
      <div class="tooltip-target" aria-describedby="tooltip">
        <slot></slot>
      </div>

      <div class="tooltip-positioner">
        <div
          part="base"
          id="tooltip"
          class=${E({tooltip:!0,"tooltip--open":this.open})}
          role="tooltip"
          aria-hidden=${this.open?"false":"true"}
        >
          <div class="tooltip__arrow"></div>
          <div class="tooltip__content" aria-live=${this.open?"polite":"off"}>
            <slot name="content"> ${this.content} </slot>
          </div>
        </div>
      </div>
    `}};t.styles=T,i([a(".tooltip-positioner")],t.prototype,"positioner",2),i([a(".tooltip")],t.prototype,"tooltip",2),i([a(".tooltip__arrow")],t.prototype,"arrow",2),i([o()],t.prototype,"content",2),i([o()],t.prototype,"placement",2),i([o({type:Boolean,reflect:!0})],t.prototype,"disabled",2),i([o({type:Number})],t.prototype,"distance",2),i([o({type:Boolean,reflect:!0})],t.prototype,"open",2),i([o({type:Number})],t.prototype,"skidding",2),i([o()],t.prototype,"trigger",2),i([o({type:Boolean})],t.prototype,"hoist",2),i([r("open",{waitUntilFirstUpdate:!0})],t.prototype,"handleOpenChange",1),i([r("content"),r("distance"),r("hoist"),r("placement"),r("skidding")],t.prototype,"handleOptionsChange",1),i([r("disabled")],t.prototype,"handleDisabledChange",1),t=i([b("sl-tooltip")],t);u("tooltip.show",{keyframes:[{opacity:0,transform:"scale(0.8)"},{opacity:1,transform:"scale(1)"}],options:{duration:150,easing:"ease"}});u("tooltip.hide",{keyframes:[{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.8)"}],options:{duration:150,easing:"ease"}});export{t as a};
